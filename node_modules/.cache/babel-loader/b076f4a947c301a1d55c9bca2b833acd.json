{"ast":null,"code":"import { ADD_COMMENT, ADD_POST, DELETE_POST, GET_POST, GET_POSTS, POST_ERROR, REMOVE_COMMENT, UPDATE_LIKES } from \"./types\";\nimport axios from 'axios';\nimport { setAlert } from './alertAction'; // Get posts\n\nexport const getPosts = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/posts');\n    dispatch({\n      type: GET_POSTS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Get Post\n\nexport const getPost = id => async dispatch => {\n  try {\n    const res = await axios.get(`/api/posts/${id}`);\n    dispatch({\n      type: GET_POST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add Post\n\nexport const addPost = formData => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const body = JSON.stringify(formData);\n    const res = await axios.post('/api/posts', body, config);\n    dispatch({\n      type: ADD_POST,\n      payload: res.data\n    });\n    dispatch(setAlert('Post added successfully', 'success'));\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add Comment\n\nexport const addComment = (formData, postId) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const body = JSON.stringify(formData);\n    const res = await axios.post(`/api/posts/comment/${id}`, body, config);\n    dispatch({\n      type: ADD_COMMENT,\n      payload: res.data\n    });\n    dispatch(setAlert('Comment added successfully', 'success'));\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Add Like\n\nexport const addLike = id => async dispatch => {\n  try {\n    const res = await axios.put(`/api/posts/like/${id}`);\n    dispatch({\n      type: UPDATE_LIKES,\n      payload: {\n        id,\n        likes: res.data\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Remove Like\n\nexport const removeLike = id => async dispatch => {\n  try {\n    const res = await axios.put(`/api/posts/unlike/${id}`);\n    dispatch({\n      type: UPDATE_LIKES,\n      payload: {\n        id,\n        likes: res.data\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Delete post \n\nexport const deletePost = id => async dispatch => {\n  await axios.delete(`/api/posts/${id}`);\n  dispatch({\n    type: DELETE_POST,\n    payload: id\n  });\n  dispatch(setAlert('Post removed successfully', 'success'));\n\n  try {} catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Delete Comment\n\nexport const deleteComment = (id, commentId) => async dispatch => {\n  try {\n    await axios.delete(`/api/posts/comment/${id}/${commentId}`);\n    dispatch({\n      type: REMOVE_COMMENT,\n      payload: commentId\n    });\n    dispatch(setAlert('Comment deleted successfully', 'success'));\n  } catch (err) {\n    dispatch({\n      type: POST_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Dell/Desktop/socialnetwork/client/src/actions/postAction.js"],"names":["ADD_COMMENT","ADD_POST","DELETE_POST","GET_POST","GET_POSTS","POST_ERROR","REMOVE_COMMENT","UPDATE_LIKES","axios","setAlert","getPosts","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","getPost","id","addPost","formData","config","headers","body","JSON","stringify","post","addComment","postId","addLike","put","likes","removeLike","deletePost","delete","deleteComment","commentId"],"mappings":"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","sourcesContent":["import { \r\n    ADD_COMMENT,\r\n    ADD_POST,\r\n     DELETE_POST, \r\n     GET_POST, \r\n     GET_POSTS,\r\n      POST_ERROR, \r\n      REMOVE_COMMENT, \r\n      UPDATE_LIKES \r\n    } from \"./types\";\r\nimport axios from 'axios';\r\nimport { setAlert } from './alertAction';\r\n\r\n// Get posts\r\nexport const getPosts = () => async dispatch => {\r\n\r\n    try {\r\n\r\n        const res = await axios.get('/api/posts');\r\n\r\n        dispatch({\r\n\r\n            type: GET_POSTS,\r\n            payload: res.data\r\n        })\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n\r\n// Get Post\r\nexport const getPost = (id) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const res = await axios.get(`/api/posts/${id}`);\r\n\r\n        dispatch({\r\n\r\n            type: GET_POST,\r\n            payload: res.data\r\n        })\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n\r\n// Add Post\r\nexport const addPost = formData => async dispatch => {\r\n\r\n    try {\r\n\r\n        const config = {\r\n\r\n            headers: {\r\n\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const body = JSON.stringify(formData);\r\n\r\n        const res = await axios.post('/api/posts', body, config);\r\n\r\n        dispatch({\r\n\r\n            type: ADD_POST,\r\n            payload: res.data\r\n        })\r\n\r\n        dispatch(setAlert('Post added successfully', 'success'))\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n\r\n// Add Comment\r\nexport const addComment = (formData, postId) => async dispatch => {\r\n\r\n    try {\r\n\r\n        const config = {\r\n\r\n            headers: {\r\n\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const body = JSON.stringify(formData)\r\n\r\n        const res = await axios.post(`/api/posts/comment/${id}`, body, config);\r\n\r\n        dispatch({\r\n\r\n            type: ADD_COMMENT,\r\n            payload: res.data\r\n        })\r\n\r\n        dispatch(setAlert('Comment added successfully', 'success'));\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n// Add Like\r\nexport const addLike = id => async dispatch => {\r\n\r\n    try {\r\n\r\n        const res = await axios.put(`/api/posts/like/${id}`);\r\n\r\n        dispatch({\r\n\r\n            type: UPDATE_LIKES,\r\n            payload: { id, likes: res.data }\r\n        })\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n// Remove Like\r\nexport const removeLike = id => async dispatch => {\r\n\r\n    try {\r\n\r\n        const res = await axios.put(`/api/posts/unlike/${id}`);\r\n\r\n        dispatch({\r\n\r\n            type: UPDATE_LIKES,\r\n            payload: { id, likes: res.data }\r\n        })\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n// Delete post \r\nexport const deletePost = id => async dispatch => {\r\n\r\n    await axios.delete(`/api/posts/${id}`);\r\n\r\n    dispatch({\r\n\r\n        type: DELETE_POST,\r\n        payload: id\r\n    })\r\n\r\n    dispatch(setAlert('Post removed successfully', 'success'));\r\n\r\n    try {\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: { msg: err.response.statusText, status: err.response.status }\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n\r\n// Delete Comment\r\nexport const deleteComment = (id, commentId) => async dispatch => {\r\n\r\n    try {\r\n\r\n        await axios.delete(`/api/posts/comment/${id}/${commentId}`);\r\n\r\n        dispatch({\r\n\r\n            type: REMOVE_COMMENT,\r\n            payload: commentId\r\n        })\r\n\r\n        dispatch(setAlert('Comment deleted successfully', 'success'));\r\n        \r\n    } catch (err) {\r\n\r\n        dispatch({\r\n\r\n            type: POST_ERROR,\r\n            payload: {msg: err.response.statusText, status: err.response.status}\r\n        })\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}